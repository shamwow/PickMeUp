import { StatusBar } from 'expo-status-bar';
import React from 'react';
import { StyleSheet, Text, View, TouchableOpacity } from 'react-native';
import { RecordScreen } from './components/RecordScreen';
import { PlayScreen } from "./components/PlayScreen";
import { NavigationContainer } from '@react-navigation/native';
import { createBottomTabNavigator } from '@react-navigation/bottom-tabs';
import { SvgXml } from "react-native-svg";

const Tab = createBottomTabNavigator();

function RecordScreenTab() {
  return (
      <View style={styles.container}>
        <RecordScreen />
        <StatusBar style="auto" />
      </View>
  );
}

function PlayScreenTab() {
    return (
        <View style={styles.container}>
          <PlayScreen />
          <StatusBar style="auto" />
        </View>
    )
}

export default function App() {
  return (
    <NavigationContainer>
      <Tab.Navigator
        screenOptions={({ route }) => ({
          tabBarIcon: ({ focused, color, size }) => {
            let icon;

            if (route.name === 'Record') {
              icon = focused ? micRed : micGrey;
            } else if (route.name === 'Listen') {
              icon = focused ? playButtonRed : playButtonGrey;
            } else {
              throw new Error("unrecognized route " + route.name)
            }

            return <SvgXml width="30" height="30" xml={icon} />;
          },
        })}
        tabBarOptions={{
          activeTintColor: '#000',
          inactiveTintColor: '#000',
          tabStyle: {
            marginStart: 20,
            marginEnd: 20,
            marginBottom: 20,
          },
          style: {
            backgroundColor: '#E5EAF0',
            borderTopWidth: '0',
            paddingLeft: 60,
            paddingRight: 60,
            height: 100,
          },
        }}
      >
        <Tab.Screen name="Record" component={ RecordScreenTab } />
        <Tab.Screen name="Listen" component={ PlayScreenTab } />
      </Tab.Navigator>
    </NavigationContainer>
  );
}

const micGrey = `<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M13.3334 9.16666C13.3334 11.005 11.8384 12.5 10 12.5C8.16169 12.5 6.66669 11.005 6.66669 9.16666V4.99999C6.66669 3.16166 8.16169 1.66666 10 1.66666C11.8384 1.66666 13.3334 3.16166 13.3334 4.99999V9.16666ZM15 8.33332C15.4609 8.33332 15.8334 8.70666 15.8334 9.16666C15.8334 12.1 13.6559 14.5267 10.8334 14.9333V16.6667H12.5875C12.9984 16.6667 13.3334 17.0017 13.3334 17.4125V17.5875C13.3334 17.9983 12.9984 18.3333 12.5875 18.3333H7.41252C7.00169 18.3333 6.66669 17.9983 6.66669 17.5875V17.4125C6.66669 17.0017 7.00169 16.6667 7.41252 16.6667H9.16669V14.9333C6.34419 14.5267 4.16669 12.1 4.16669 9.16666C4.16669 8.70666 4.53919 8.33332 5.00002 8.33332C5.46085 8.33332 5.83335 8.70666 5.83335 9.16666C5.83335 11.4642 7.70252 13.3333 10 13.3333C12.2975 13.3333 14.1667 11.4642 14.1667 9.16666C14.1667 8.70666 14.5392 8.33332 15 8.33332Z" fill="#6A758A"/>
<mask id="mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="4" y="1" width="12" height="18">
<path fill-rule="evenodd" clip-rule="evenodd" d="M13.3334 9.16666C13.3334 11.005 11.8384 12.5 10 12.5C8.16169 12.5 6.66669 11.005 6.66669 9.16666V4.99999C6.66669 3.16166 8.16169 1.66666 10 1.66666C11.8384 1.66666 13.3334 3.16166 13.3334 4.99999V9.16666ZM15 8.33332C15.4609 8.33332 15.8334 8.70666 15.8334 9.16666C15.8334 12.1 13.6559 14.5267 10.8334 14.9333V16.6667H12.5875C12.9984 16.6667 13.3334 17.0017 13.3334 17.4125V17.5875C13.3334 17.9983 12.9984 18.3333 12.5875 18.3333H7.41252C7.00169 18.3333 6.66669 17.9983 6.66669 17.5875V17.4125C6.66669 17.0017 7.00169 16.6667 7.41252 16.6667H9.16669V14.9333C6.34419 14.5267 4.16669 12.1 4.16669 9.16666C4.16669 8.70666 4.53919 8.33332 5.00002 8.33332C5.46085 8.33332 5.83335 8.70666 5.83335 9.16666C5.83335 11.4642 7.70252 13.3333 10 13.3333C12.2975 13.3333 14.1667 11.4642 14.1667 9.16666C14.1667 8.70666 14.5392 8.33332 15 8.33332Z" fill="white"/>
</mask>
<g mask="url(#mask0)">
</g>
</svg>`;

const micRed = `<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M13.3334 9.16666C13.3334 11.005 11.8384 12.5 10 12.5C8.16169 12.5 6.66669 11.005 6.66669 9.16666V4.99999C6.66669 3.16166 8.16169 1.66666 10 1.66666C11.8384 1.66666 13.3334 3.16166 13.3334 4.99999V9.16666ZM15 8.33332C15.4609 8.33332 15.8334 8.70666 15.8334 9.16666C15.8334 12.1 13.6559 14.5267 10.8334 14.9333V16.6667H12.5875C12.9984 16.6667 13.3334 17.0017 13.3334 17.4125V17.5875C13.3334 17.9983 12.9984 18.3333 12.5875 18.3333H7.41252C7.00169 18.3333 6.66669 17.9983 6.66669 17.5875V17.4125C6.66669 17.0017 7.00169 16.6667 7.41252 16.6667H9.16669V14.9333C6.34419 14.5267 4.16669 12.1 4.16669 9.16666C4.16669 8.70666 4.53919 8.33332 5.00002 8.33332C5.46085 8.33332 5.83335 8.70666 5.83335 9.16666C5.83335 11.4642 7.70252 13.3333 10 13.3333C12.2975 13.3333 14.1667 11.4642 14.1667 9.16666C14.1667 8.70666 14.5392 8.33332 15 8.33332Z" fill="#DE1819"/>
<mask id="mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="4" y="1" width="12" height="18">
<path fill-rule="evenodd" clip-rule="evenodd" d="M13.3334 9.16666C13.3334 11.005 11.8384 12.5 10 12.5C8.16169 12.5 6.66669 11.005 6.66669 9.16666V4.99999C6.66669 3.16166 8.16169 1.66666 10 1.66666C11.8384 1.66666 13.3334 3.16166 13.3334 4.99999V9.16666ZM15 8.33332C15.4609 8.33332 15.8334 8.70666 15.8334 9.16666C15.8334 12.1 13.6559 14.5267 10.8334 14.9333V16.6667H12.5875C12.9984 16.6667 13.3334 17.0017 13.3334 17.4125V17.5875C13.3334 17.9983 12.9984 18.3333 12.5875 18.3333H7.41252C7.00169 18.3333 6.66669 17.9983 6.66669 17.5875V17.4125C6.66669 17.0017 7.00169 16.6667 7.41252 16.6667H9.16669V14.9333C6.34419 14.5267 4.16669 12.1 4.16669 9.16666C4.16669 8.70666 4.53919 8.33332 5.00002 8.33332C5.46085 8.33332 5.83335 8.70666 5.83335 9.16666C5.83335 11.4642 7.70252 13.3333 10 13.3333C12.2975 13.3333 14.1667 11.4642 14.1667 9.16666C14.1667 8.70666 14.5392 8.33332 15 8.33332Z" fill="white"/>
</mask>
<g mask="url(#mask0)">
</g>
</svg>`;

const playButtonGrey = `<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M9.58332 12.1663L11.9242 9.99966L9.58332 7.83383V12.1663ZM13.3167 10.9822L10.2817 13.7906C10.0158 14.0372 9.66999 14.1664 9.31749 14.1664C9.12332 14.1664 8.92582 14.1264 8.73999 14.0456C8.23166 13.8239 7.91666 13.3497 7.91666 12.8081V7.19141C7.91666 6.65058 8.23166 6.17558 8.73999 5.95475C9.26166 5.72558 9.86749 5.82558 10.2825 6.20975L13.3167 9.01808C13.5925 9.27225 13.75 9.63058 13.75 9.99975C13.75 10.3697 13.5925 10.7272 13.3167 10.9822ZM9.99999 1.66641C5.40499 1.66641 1.66666 5.40558 1.66666 9.99975C1.66666 14.5947 5.40499 18.3331 9.99999 18.3331C14.595 18.3331 18.3333 14.5947 18.3333 9.99975C18.3333 5.40558 14.595 1.66641 9.99999 1.66641Z" fill="#6A758A"/>
<mask id="mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="1" y="1" width="18" height="18">
<path fill-rule="evenodd" clip-rule="evenodd" d="M9.58332 12.1663L11.9242 9.99966L9.58332 7.83383V12.1663ZM13.3167 10.9822L10.2817 13.7906C10.0158 14.0372 9.66999 14.1664 9.31749 14.1664C9.12332 14.1664 8.92582 14.1264 8.73999 14.0456C8.23166 13.8239 7.91666 13.3497 7.91666 12.8081V7.19141C7.91666 6.65058 8.23166 6.17558 8.73999 5.95475C9.26166 5.72558 9.86749 5.82558 10.2825 6.20975L13.3167 9.01808C13.5925 9.27225 13.75 9.63058 13.75 9.99975C13.75 10.3697 13.5925 10.7272 13.3167 10.9822ZM9.99999 1.66641C5.40499 1.66641 1.66666 5.40558 1.66666 9.99975C1.66666 14.5947 5.40499 18.3331 9.99999 18.3331C14.595 18.3331 18.3333 14.5947 18.3333 9.99975C18.3333 5.40558 14.595 1.66641 9.99999 1.66641Z" fill="white"/>
</mask>
<g mask="url(#mask0)">
</g>
</svg>`;

const playButtonRed = `<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M9.58332 12.1663L11.9242 9.99966L9.58332 7.83383V12.1663ZM13.3167 10.9822L10.2817 13.7906C10.0158 14.0372 9.66999 14.1664 9.31749 14.1664C9.12332 14.1664 8.92582 14.1264 8.73999 14.0456C8.23166 13.8239 7.91666 13.3497 7.91666 12.8081V7.19141C7.91666 6.65058 8.23166 6.17558 8.73999 5.95475C9.26166 5.72558 9.86749 5.82558 10.2825 6.20975L13.3167 9.01808C13.5925 9.27225 13.75 9.63058 13.75 9.99975C13.75 10.3697 13.5925 10.7272 13.3167 10.9822M9.99999 1.66641C5.40499 1.66641 1.66666 5.40558 1.66666 9.99975C1.66666 14.5947 5.40499 18.3331 9.99999 18.3331C14.595 18.3331 18.3333 14.5947 18.3333 9.99975C18.3333 5.40558 14.595 1.66641 9.99999 1.66641" fill="#DE1819"/>
<mask id="mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="1" y="1" width="18" height="18">
<path fill-rule="evenodd" clip-rule="evenodd" d="M9.58332 12.1663L11.9242 9.99966L9.58332 7.83383V12.1663ZM13.3167 10.9822L10.2817 13.7906C10.0158 14.0372 9.66999 14.1664 9.31749 14.1664C9.12332 14.1664 8.92582 14.1264 8.73999 14.0456C8.23166 13.8239 7.91666 13.3497 7.91666 12.8081V7.19141C7.91666 6.65058 8.23166 6.17558 8.73999 5.95475C9.26166 5.72558 9.86749 5.82558 10.2825 6.20975L13.3167 9.01808C13.5925 9.27225 13.75 9.63058 13.75 9.99975C13.75 10.3697 13.5925 10.7272 13.3167 10.9822M9.99999 1.66641C5.40499 1.66641 1.66666 5.40558 1.66666 9.99975C1.66666 14.5947 5.40499 18.3331 9.99999 18.3331C14.595 18.3331 18.3333 14.5947 18.3333 9.99975C18.3333 5.40558 14.595 1.66641 9.99999 1.66641" fill="white"/>
</mask>
<g mask="url(#mask0)">
</g>
</svg>`;

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: '#E5EAF0',
    alignItems: 'center',
    justifyContent: 'center',
  },
  navigation: {
    height: 100,
    backgroundColor: '#E5EAF0',
    flexDirection: 'row',
    flex: 1,
  },
  navigationItem: {
    margin: 10,
    backgroundColor: '#DE1819',
    borderRadius: 50,
    flex: 1,
    height: 40,
  },
  navigationText: {
    textAlign: 'center',
    textAlignVertical: 'center',
    color: 'white',
    textTransform: 'uppercase',
    fontWeight: 'bold',
    height: 40,
  },
});
